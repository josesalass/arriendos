<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<script
  src="https://code.jquery.com/jquery-3.6.3.js"
  integrity="sha256-nQLuAZGRRcILA+6dMBOvcRh5Pe310sBpanc6+QBmyVM="
  crossorigin="anonymous"></script>
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"
	crossorigin="anonymous">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
	integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
	crossorigin="anonymous"></script>
<script src="https://kit.fontawesome.com/fff956a6e2.js" crossorigin="anonymous"></script>

<title>Document</title>
<style>
td {
	font-size: 14px;
}

.row {
	margin-bottom: 2em;
}

.col-4 {
	margin-bottom: 2em !important;
}

.card{
	box-shadow: 3px 3px 20px 1px black;
}

.card-img-top {
	width: 100%;
	
	height: 15em;
}

.card-body {
	min-height: 15em;

}

header {
	background-color: #ffffff;
	
}

.table-title{
            font-weight: bold;
        }

body {
            background: #654ea3;
            background: linear-gradient(to right, #e96443, #904e95);
            min-height: 100vh;
            overflow-x: hidden;
        }


.card-footer {
	font-size: 10px;
	text-align: center;
}

.direccion{
	text-transform: uppercase;
}
</style>
</head>
<body>
	<div th:replace="fragments/navbar"></div>
	
	<div class="container-sm">
		

		<div class="row d-flex">

			<!-- <div class="col-10">
				<div class="row d-flex align-items-start">
					<div class="col-2">
						<h5 style="color: white;"> Ordenar Por: </h5>
					</div>
		
					<div class="col-3">
						<select class="form-select" aria-label="Default select example">
							<option selected>Ordenar por</option>
							<option value="1">Precio</option>
							<option value="2">Fecha publicación</option>
							<option value="3">Tamaño</option>
						</select>
					</div>
		
		
				</div>
			</div> -->


        	
        </div>

		



		<!--MINIATURAS-->
		<div class="row">
			<div th:each="pieza: ${piezas}" class="col-6 col-md-4 mb-4">
				<div class="card">
					<img class="card-img-top" th:src="@{${'/imagenesPiezas/'+ pieza.id + '-' + pieza.img}}">
					<div class="card-body">
						<table style="height: 8em;">
							<tr>
								<td class="table-title" colspan="2">Dirección</td>
								<td th:text="${pieza.residencia.direccion}"></td>
							</tr>
							<tr>
								<td class="table-title" colspan="2">Espacio</td>
								<td style="padding-left: 1em;"><span th:text="${pieza.espacio}"></span><span> mt2</span></td> 
							</tr>
							<tr>
								<td class="table-title" colspan="2">Descripción</td>
								<td style="padding-left: 1em;" th:text="${pieza.descripcion}"></td>
							</tr>
							<tr>
								<td class="table-title" colspan="2">Precio</td>
								<td style="padding-left: 1em;">
									$<span th:text="${pieza.precio}"></span>
								</td>
							</tr>
							<!-- <tr>
								<td colspan="2">Restricciones</td>
								<td th:text="${pieza.residencia.reestriccion1}"></td>
							</tr> -->
                            <tr th:each="categoria: ${pieza.categoriasPiezas}">
                                <td class="table-title" colspan="2">Categoria</td>
                                <td style="padding-left: 1em;" th:text="${categoria.nombre}"></td>
                            </tr>

						</table>

						<div class="row mt-2 mb-1" style="text-align: center;">
							<h5>Información recidencia</h5>
						</div>

						<table style="height: 9em;">
							<tr>
                                <td class="table-title" colspan="2">Descripción</td>
                                <td th:text="${pieza.residencia.descripcion}"></td>
                            </tr>
                            <tr>
                                <td class="table-title" colspan="2">Institucion</td>
                                <td th:if="${pieza.residencia.institucion} == null">Sin asociación</td>
                                <td th:if="${pieza.residencia.institucion} != null" th:text="${pieza.residencia.institucion}"></td>
                            </tr>
                            <tr>
                                <td class="table-title">Restricciones</td>
                                <td></td>
                            </tr>
                            <tr>
                                <td class="list-group">
                                    <li  th:if="${pieza.residencia.reestriccion1}">No se aceptan mascotas</li>
                                    <li  th:if="${pieza.residencia.reestriccion2}">Solo mujeres</li>
                                    <li  th:if="${pieza.residencia.reestriccion3}">Baño compartido</li>
                                </td>
                            </tr>
						</table>

						
					</div>
					<div class="card-footer">
						Fecha publicación: 
						<span th:text="${#dates.format(pieza.residencia.fechaPub, 'dd-MM-yyyy')}"></span>
					</div>
				</div>
			</div>




		</div>



	</div>

</body>
</html>